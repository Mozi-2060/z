We tie the algorithms of Section \ref{sec:4man} together into Algorithm \ref{alg:4manifold}.

\begin{algorithm}
	\caption{Building a 4--manifold}
	\label{alg:4manifold}
	\KwData{the closed, orientable, edge--distinct 3--manifold triangulation $T$}
	\KwResult{a triangulated 4--manifold $W$ with boundary triangulation homeomorphic to the closed orientable 3--manifold $M$ whose triangulation was taken as input to Algorithm \ref{alg:proj}}
	\Begin{
		$S\longleftarrow$ the result of Algorithm \ref{alg:steincomplex} with input $T$\;
		$W,\mathcal{V},\mathcal{C}\longleftarrow$ the result of Algorithm \ref{alg:4handlebody} with input $S$\;
		\ForEach{2--cell $c$ of $S$}{
			decorate $c$ with the result of Algorithm \ref{alg:gleams} with input $c$\;
		}		
		$\Lambda\longleftarrow$ the set of pairs $(V,\lambda)$ with $V$ from $\mathcal{V}$ and $\lambda$ the 0--framing of $V$\;
		\ForEach{pair $(V,\lambda)$ of $\Lambda$}{
			$n\longleftarrow$ the framing coefficient of the 2--cell of $S$ corresponding to $V$\;
			$W\longleftarrow$ the result of subdividing $V$ to a triangulated solid torus $V'$ for which a curve $\lambda^n$ as described in Section \ref{sub:2handles} exists\;
			$\lambda'\longleftarrow$ the subdivision of $\lambda$ from the previous line\;
			$H^4\longleftarrow$ the result of Algorithm \ref{alg:2handle} with input $V'$,$\lambda'$,$n$\;
			$W\longleftarrow$ the result of gluing $H^4$ to $W$ over $V'$\;
		}
	}
\end{algorithm}